<div class="card card-default mb-3 dmo-collections">
    <div class="card-header">
        <i class="fa fa-list"></i> Decomposed movie object collentions
    </div>
    <div class="card-body p-0">
        <div class="collection-buttons-row">

            <div class="add-collection-button" (click)="toggleAddCollectionForm()"
                [ngClass]="{'invisible': !showAddButton}">
                <i class="fa fa-plus control-icon" aria-hidden="true"> <span>new collection</span></i>
            </div>

            <form [formGroup]="addCollectionForm" (ngSubmit)="onAddCollection()" [ngClass]="{'invisible': showAddButton}" autocomplete="off">
                <div class="add-collection-form">
                    <input type="text" name="collectionName" formControlName="collectionName"
                        class="form-control input-underline-light" placeholder="name">
                    <button type="submit" [disabled]="!addCollectionForm.valid" class='nna-button bg-primary' [ngClass]="{'nna-diabled-button': !addCollectionForm.valid}" ><i class="fa fa-check"
                            aria-hidden="true"></i></button>
                    <button type="button" class='nna-button bg-secondary'  (click)="toggleAddCollectionForm()"><i
                            class="fa fa-times" aria-hidden="true"></i>
                    </button>
                </div>
                <div *ngIf="collectionName.invalid && (collectionName.dirty || collectionName.touched)" class="validation-wrapper">
                    <div *ngIf="collectionName.invalid && (collectionName.dirty || collectionName.touched)" class="validation-container">
                        <div *ngIf="collectionName.errors.required">
                            <p class="validation-text">name is missing </p>
                        </div>
                        <div *ngIf="collectionName.errors.maxlength">
                            <p class="validation-text">Maximum name length is 20</p>
                        </div>
                    </div>
                </div> 
            </form>
            <div class="filter-collection-button" [ngClass]="{'invisible': !showAddButton}">
                <i class="fa fa-filter" aria-hidden="true"></i>
            </div>
            <div *ngIf="isFormProcessing" class="loader-container">
                <mat-progress-spinner diameter="40" mode="indeterminate"></mat-progress-spinner>
            </div>
        </div>

        <div class="list-group">
            <a *ngFor="let dmoList of dmoLists;" [routerLink]="['/dmo']" [queryParams]="{dmoId: dmoList.id}"
                class="list-group-item clearfix d-block collection-item">
                &#9679; {{ dmoList.collectionName }}
            </a>
        </div>




        <!-- <a href="#" class="btn btn-default btn-block">View All Alerts</a> -->
    </div>
</div>